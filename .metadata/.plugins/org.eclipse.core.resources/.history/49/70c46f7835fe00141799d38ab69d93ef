package MeasureDelays;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.InetAddress;
import java.net.MulticastSocket;

import javax.swing.JOptionPane;

public class ThreadEscuta extends Thread
{
	private InetAddress group;
	private int port;
	
	public ThreadEscuta(InetAddress group, int port)
	{
		this.group = group;
		this.port = port;
	}
	
	@Override
	public void run() 
	{
		//Recebe atrasos
		MulticastSocket multicastSocket = null;
		CurrentTime time = null;
		try
		{
			multicastSocket = new MulticastSocket(port);
			multicastSocket.joinGroup(group);
			multicastSocket.setTimeToLive(64);
			
			byte[] buf = new byte[256];
			DatagramPacket msgPacket = new DatagramPacket(buf, buf.length);
	        multicastSocket.receive(msgPacket);
	        
		}
		catch (IOException e) 
		{
			System.out.println("IOException: " + e);
		}
		
	}
}
